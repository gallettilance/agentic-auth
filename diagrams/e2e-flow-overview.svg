<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1303.51953125 3776.734375" style="max-width: 1303.52px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M235.742,86L235.742,90.167C235.742,94.333,235.742,102.667,235.742,110.333C235.742,118,235.742,125,235.742,128.5L235.742,132"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M280.698,214L285.501,218.167C290.304,222.333,299.91,230.667,304.783,238.417C309.656,246.167,309.797,253.334,309.867,256.917L309.937,260.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_0" d="M279.027,455.746L274.562,466.994C270.096,478.242,261.165,500.738,256.7,517.486C252.234,534.234,252.234,545.234,252.234,550.734L252.234,556.234"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_0" d="M252.234,638.234L252.234,642.401C252.234,646.568,252.234,654.901,252.234,662.568C252.234,670.234,252.234,677.234,252.234,680.734L252.234,684.234"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_0" d="M252.234,766.234L252.234,770.401C252.234,774.568,252.234,782.901,252.234,790.568C252.234,798.234,252.234,805.234,252.234,808.734L252.234,812.234"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_0" d="M252.234,894.234L252.234,898.401C252.234,902.568,252.234,910.901,235.697,929.308C219.159,947.716,186.084,976.197,169.546,990.438L153.009,1004.679"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_B_0" d="M104.688,1007.289L104.688,992.613C104.688,977.938,104.688,948.586,104.688,923.243C104.688,897.901,104.688,876.568,104.688,855.234C104.688,833.901,104.688,812.568,104.688,791.234C104.688,769.901,104.688,748.568,104.688,727.234C104.688,705.901,104.688,684.568,104.688,663.234C104.688,641.901,104.688,620.568,104.688,597.234C104.688,573.901,104.688,548.568,104.688,511.215C104.688,473.862,104.688,424.49,104.688,377.117C104.688,329.745,104.688,284.372,112.621,257.812C120.554,231.252,136.42,223.504,144.353,219.629L152.286,215.755"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_H_0" d="M376.802,419.948L402.779,437.162C428.756,454.377,480.71,488.805,506.687,511.52C532.664,534.234,532.664,545.234,532.664,550.734L532.664,556.234"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_0" d="M532.664,638.234L532.664,642.401C532.664,646.568,532.664,654.901,532.664,662.568C532.664,670.234,532.664,677.234,532.664,680.734L532.664,684.234"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_0" d="M532.664,766.234L532.664,770.401C532.664,774.568,532.664,782.901,532.664,790.568C532.664,798.234,532.664,805.234,532.664,808.734L532.664,812.234"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_K_0" d="M532.664,894.234L532.664,898.401C532.664,902.568,532.664,910.901,532.734,918.651C532.805,926.401,532.945,933.568,533.015,937.152L533.086,940.735"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_0" d="M533.164,1148.844L533.081,1154.927C532.997,1161.01,532.831,1173.177,532.747,1184.76C532.664,1196.344,532.664,1207.344,532.664,1212.844L532.664,1218.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_M_0" d="M601.713,1080.295L637.62,1097.803C673.528,1115.311,745.342,1150.327,781.249,1173.336C817.156,1196.344,817.156,1207.344,817.156,1212.844L817.156,1218.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_0" d="M817.156,1300.344L817.156,1304.51C817.156,1308.677,817.156,1317.01,817.156,1324.677C817.156,1332.344,817.156,1339.344,817.156,1342.844L817.156,1346.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_N_O_0" d="M869.539,1428.344L875.135,1432.51C880.732,1436.677,891.924,1445.01,897.521,1452.677C903.117,1460.344,903.117,1467.344,903.117,1470.844L903.117,1474.344"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O_P_0" d="M903.117,1556.344L903.117,1560.51C903.117,1564.677,903.117,1573.01,903.187,1580.761C903.258,1588.511,903.398,1595.678,903.469,1599.261L903.539,1602.845"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_P_Q_0" d="M821.429,1743.452L761.344,1763.234C701.26,1783.015,581.091,1822.578,521.006,1849.859C460.922,1877.141,460.922,1892.141,460.922,1899.641L460.922,1907.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_R_0" d="M460.922,1989.141L460.922,1995.307C460.922,2001.474,460.922,2013.807,457.59,2023.647C454.258,2033.486,447.593,2040.832,444.261,2044.505L440.929,2048.178"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_N_0" d="M367.478,2051.141L363.697,2046.974C359.917,2042.807,352.357,2034.474,348.577,2017.641C344.797,2000.807,344.797,1975.474,344.797,1948.141C344.797,1920.807,344.797,1891.474,344.797,1852.408C344.797,1813.341,344.797,1764.542,344.797,1717.742C344.797,1670.943,344.797,1626.143,344.797,1593.077C344.797,1560.01,344.797,1538.677,344.797,1517.344C344.797,1496.01,344.797,1474.677,405.511,1455.784C466.226,1436.891,587.654,1420.439,648.369,1412.213L709.083,1403.987"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_P_S_0" d="M958.268,1770.99L973.433,1786.181C988.598,1801.373,1018.928,1831.757,1034.093,1854.449C1049.258,1877.141,1049.258,1892.141,1049.258,1899.641L1049.258,1907.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_S_T_0" d="M1049.258,1989.141L1049.258,1995.307C1049.258,2001.474,1049.258,2013.807,1049.258,2023.474C1049.258,2033.141,1049.258,2040.141,1049.258,2043.641L1049.258,2047.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_T_U_0" d="M1049.258,2129.141L1049.258,2133.307C1049.258,2137.474,1049.258,2145.807,1049.258,2153.474C1049.258,2161.141,1049.258,2168.141,1049.258,2171.641L1049.258,2175.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_U_V_0" d="M1049.258,2257.141L1049.258,2261.307C1049.258,2265.474,1049.258,2273.807,1049.258,2281.474C1049.258,2289.141,1049.258,2296.141,1049.258,2299.641L1049.258,2303.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_V_W_0" d="M1049.258,2385.141L1049.258,2389.307C1049.258,2393.474,1049.258,2401.807,1049.258,2409.474C1049.258,2417.141,1049.258,2424.141,1049.258,2427.641L1049.258,2431.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_W_X_0" d="M1049.258,2513.141L1049.258,2517.307C1049.258,2521.474,1049.258,2529.807,1049.328,2537.557C1049.398,2545.308,1049.539,2552.474,1049.609,2556.058L1049.679,2559.641"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_X_Y_0" d="M1113.051,2751.878L1129.904,2768.511C1146.756,2785.143,1180.46,2818.407,1197.312,2847.706C1214.164,2877.005,1214.164,2902.339,1214.164,2925.672C1214.164,2949.005,1214.164,2970.339,1214.164,2991.672C1214.164,3013.005,1214.164,3034.339,1214.164,3057.672C1214.164,3081.005,1214.164,3106.339,1214.164,3131.672C1214.164,3157.005,1214.164,3182.339,1214.164,3205.672C1214.164,3229.005,1214.164,3250.339,1214.164,3281.177C1214.164,3312.016,1214.164,3352.359,1214.164,3394.703C1214.164,3437.047,1214.164,3481.391,1212.205,3509.101C1210.246,3536.811,1206.327,3547.887,1204.368,3553.425L1202.409,3558.963"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Y_Z_0" d="M1187.277,3640.734L1187.277,3644.901C1187.277,3649.068,1187.277,3657.401,1144.166,3669.164C1101.055,3680.928,1014.833,3696.121,971.722,3703.718L928.611,3711.314"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Z_N_0" d="M723.484,3701.997L701.566,3695.953C679.648,3689.909,635.813,3677.822,613.895,3661.111C591.977,3644.401,591.977,3623.068,591.977,3599.734C591.977,3576.401,591.977,3551.068,591.977,3516.229C591.977,3481.391,591.977,3437.047,591.977,3394.703C591.977,3352.359,591.977,3312.016,591.977,3281.177C591.977,3250.339,591.977,3229.005,591.977,3205.672C591.977,3182.339,591.977,3157.005,591.977,3131.672C591.977,3106.339,591.977,3081.005,591.977,3057.672C591.977,3034.339,591.977,3013.005,591.977,2991.672C591.977,2970.339,591.977,2949.005,591.977,2925.672C591.977,2902.339,591.977,2877.005,591.977,2837.211C591.977,2797.417,591.977,2743.161,591.977,2690.906C591.977,2638.651,591.977,2588.396,591.977,2552.602C591.977,2516.807,591.977,2495.474,591.977,2474.141C591.977,2452.807,591.977,2431.474,591.977,2410.141C591.977,2388.807,591.977,2367.474,591.977,2346.141C591.977,2324.807,591.977,2303.474,591.977,2282.141C591.977,2260.807,591.977,2239.474,591.977,2218.141C591.977,2196.807,591.977,2175.474,591.977,2154.141C591.977,2132.807,591.977,2111.474,591.977,2090.141C591.977,2068.807,591.977,2047.474,591.977,2024.141C591.977,2000.807,591.977,1975.474,591.977,1948.141C591.977,1920.807,591.977,1891.474,591.977,1852.408C591.977,1813.341,591.977,1764.542,591.977,1717.742C591.977,1670.943,591.977,1626.143,591.977,1593.077C591.977,1560.01,591.977,1538.677,591.977,1517.344C591.977,1496.01,591.977,1474.677,611.514,1458.458C631.051,1442.238,670.125,1431.133,689.662,1425.58L709.199,1420.027"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_X_AA_0" d="M998.227,2763.641L987.902,2778.313C977.576,2792.985,956.925,2822.328,946.599,2842.5C936.273,2862.672,936.273,2873.672,936.273,2879.172L936.273,2884.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AA_BB_0" d="M936.273,2966.672L936.273,2970.839C936.273,2975.005,936.273,2983.339,936.273,2991.005C936.273,2998.672,936.273,3005.672,936.273,3009.172L936.273,3012.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_BB_CC_0" d="M936.273,3094.672L936.273,3100.839C936.273,3107.005,936.273,3119.339,936.273,3131.005C936.273,3142.672,936.273,3153.672,936.273,3159.172L936.273,3164.672"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CC_DD_0" d="M936.273,3246.672L936.273,3250.839C936.273,3255.005,936.273,3263.339,936.344,3271.089C936.414,3278.839,936.554,3286.006,936.625,3289.589L936.695,3293.173"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DD_Y_0" d="M985.673,3440.335L1000.443,3454.568C1015.213,3468.802,1044.753,3497.268,1068.137,3517.296C1091.522,3537.324,1108.751,3548.913,1117.365,3554.707L1125.98,3560.502"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DD_EE_0" d="M914.892,3467.353L911.912,3477.083C908.933,3486.813,902.974,3506.274,899.995,3521.504C897.016,3536.734,897.016,3547.734,897.016,3553.234L897.016,3558.734"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_P_FF_0" d="M848.966,1770.99L833.635,1786.181C818.303,1801.373,787.64,1831.757,772.308,1852.449C756.977,1873.141,756.977,1884.141,756.977,1889.641L756.977,1895.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FF_GG_0" d="M756.977,2001.141L756.977,2005.307C756.977,2009.474,756.977,2017.807,756.977,2025.474C756.977,2033.141,756.977,2040.141,756.977,2043.641L756.977,2047.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GG_HH_0" d="M756.977,2129.141L756.977,2133.307C756.977,2137.474,756.977,2145.807,756.977,2153.474C756.977,2161.141,756.977,2168.141,756.977,2171.641L756.977,2175.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HH_II_0" d="M756.977,2257.141L756.977,2261.307C756.977,2265.474,756.977,2273.807,756.977,2281.474C756.977,2289.141,756.977,2296.141,756.977,2299.641L756.977,2303.141"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_II_JJ_0" d="M756.977,2385.141L756.977,2389.307C756.977,2393.474,756.977,2401.807,756.977,2409.474C756.977,2417.141,756.977,2424.141,756.977,2427.641L756.977,2431.141"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(252.234375, 523.234375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(532.6640625, 523.234375)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(532.6640625, 1185.34375)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(817.15625, 1185.34375)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(460.921875, 1862.140625)" class="edgeLabel"><g transform="translate(-63.953125, -12)" class="label"><foreignObject height="24" width="127.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No - Invalid Token</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 1862.140625)" class="edgeLabel"><g transform="translate(-81.0390625, -12)" class="label"><foreignObject height="24" width="162.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No - Insufficient Scope</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1214.1640625, 3131.671875)" class="edgeLabel"><g transform="translate(-48.296875, -12)" class="label"><foreignObject height="24" width="96.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Auto-approve</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(936.2734375, 2851.671875)" class="edgeLabel"><g transform="translate(-55.390625, -12)" class="label"><foreignObject height="24" width="110.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Admin required</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1074.29296875, 3525.734375)" class="edgeLabel"><g transform="translate(-33.7734375, -12)" class="label"><foreignObject height="24" width="67.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Approved</p></span></div></foreignObject></g></g><g transform="translate(897.015625, 3525.734375)" class="edgeLabel"><g transform="translate(-24.7421875, -12)" class="label"><foreignObject height="24" width="49.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Denied</p></span></div></foreignObject></g></g><g transform="translate(756.9765625, 1862.140625)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(235.7421875, 47)" id="flowchart-A-0" class="node default"><rect height="78" width="241.875" y="-39" x="-120.9375" style="fill:#e1f5fe !important" class="basic label-container"/><g transform="translate(-90.9375, -24)" style="" class="label"><rect/><foreignObject height="48" width="181.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ‘¤ User enters prompt in<br />Chat App (Flask)</p></span></div></foreignObject></g></g><g transform="translate(235.7421875, 175)" id="flowchart-B-1" class="node default"><rect height="78" width="201.765625" y="-39" x="-100.8828125" style="" class="basic label-container"/><g transform="translate(-70.8828125, -24)" style="" class="label"><rect/><foreignObject height="48" width="141.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ” Chat App checks<br />user authentication</p></span></div></foreignObject></g></g><g transform="translate(309.515625, 375.1171875)" id="flowchart-C-3" class="node default"><polygon transform="translate(-111.1171875,111.1171875)" class="label-container" points="111.1171875,0 222.234375,-111.1171875 111.1171875,-222.234375 0,-111.1171875"/><g transform="translate(-84.1171875, -12)" style="" class="label"><rect/><foreignObject height="24" width="168.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ” User authenticated?</p></span></div></foreignObject></g></g><g transform="translate(252.234375, 599.234375)" id="flowchart-D-5" class="node default"><rect height="78" width="197.796875" y="-39" x="-98.8984375" style="" class="basic label-container"/><g transform="translate(-68.8984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="137.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”„ Redirect to<br />Google OAuth login</p></span></div></foreignObject></g></g><g transform="translate(252.234375, 727.234375)" id="flowchart-E-7" class="node default"><rect height="78" width="219.109375" y="-39" x="-109.5546875" style="" class="basic label-container"/><g transform="translate(-79.5546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="159.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”‘ Google OAuth flow<br />via Auth Server</p></span></div></foreignObject></g></g><g transform="translate(252.234375, 855.234375)" id="flowchart-F-9" class="node default"><rect height="78" width="225.09375" y="-39" x="-112.546875" style="" class="basic label-container"/><g transform="translate(-82.546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="165.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âœ… Auth Server creates<br />JWT token with scopes</p></span></div></foreignObject></g></g><g transform="translate(104.6875, 1046.2890625)" id="flowchart-G-11" class="node default"><rect height="78" width="193.375" y="-39" x="-96.6875" style="" class="basic label-container"/><g transform="translate(-66.6875, -24)" style="" class="label"><rect/><foreignObject height="48" width="133.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ’¾ Store session &amp;<br />return to chat</p></span></div></foreignObject></g></g><g transform="translate(532.6640625, 599.234375)" id="flowchart-H-15" class="node default"><rect height="78" width="258.09375" y="-39" x="-129.046875" style="" class="basic label-container"/><g transform="translate(-99.046875, -24)" style="" class="label"><rect/><foreignObject height="48" width="198.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ¤– Get/Create Llama Stack<br />Agent for user</p></span></div></foreignObject></g></g><g transform="translate(532.6640625, 727.234375)" id="flowchart-I-17" class="node default"><rect height="78" width="241.234375" y="-39" x="-120.6171875" style="" class="basic label-container"/><g transform="translate(-90.6171875, -24)" style="" class="label"><rect/><foreignObject height="48" width="181.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ“¤ Send message to<br />Auth Agent (Llama Stack)</p></span></div></foreignObject></g></g><g transform="translate(532.6640625, 855.234375)" id="flowchart-J-19" class="node default"><rect height="78" width="235.765625" y="-39" x="-117.8828125" style="" class="basic label-container"/><g transform="translate(-87.8828125, -24)" style="" class="label"><rect/><foreignObject height="48" width="175.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ§  Auth Agent processes<br />message with GPT-4</p></span></div></foreignObject></g></g><g transform="translate(532.6640625, 1046.2890625)" id="flowchart-K-21" class="node default"><polygon transform="translate(-102.0546875,102.0546875)" class="label-container" points="102.0546875,0 204.109375,-102.0546875 102.0546875,-204.109375 0,-102.0546875"/><g transform="translate(-63.0546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="126.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”§ Does response<br />require tool use?</p></span></div></foreignObject></g></g><g transform="translate(532.6640625, 1261.34375)" id="flowchart-L-23" class="node default"><rect height="78" width="234.203125" y="-39" x="-117.1015625" style="fill:#c8e6c9 !important" class="basic label-container"/><g transform="translate(-87.1015625, -24)" style="" class="label"><rect/><foreignObject height="48" width="174.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ’¬ Return text response<br />directly to user</p></span></div></foreignObject></g></g><g transform="translate(817.15625, 1261.34375)" id="flowchart-M-25" class="node default"><rect height="78" width="234.78125" y="-39" x="-117.390625" style="" class="basic label-container"/><g transform="translate(-87.390625, -24)" style="" class="label"><rect/><foreignObject height="48" width="174.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ› ï¸ Auth Agent identifies<br />required MCP tool</p></span></div></foreignObject></g></g><g transform="translate(817.15625, 1389.34375)" id="flowchart-N-27" class="node default"><rect height="78" width="208.21875" y="-39" x="-104.109375" style="" class="basic label-container"/><g transform="translate(-74.109375, -24)" style="" class="label"><rect/><foreignObject height="48" width="148.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ“¡ Auth Agent calls<br />MCP Server via HTTP</p></span></div></foreignObject></g></g><g transform="translate(903.1171875, 1517.34375)" id="flowchart-O-29" class="node default"><rect height="78" width="233.828125" y="-39" x="-116.9140625" style="" class="basic label-container"/><g transform="translate(-86.9140625, -24)" style="" class="label"><rect/><foreignObject height="48" width="173.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ” MCP Server validates<br />JWT token</p></span></div></foreignObject></g></g><g transform="translate(903.1171875, 1715.7421875)" id="flowchart-P-31" class="node default"><polygon transform="translate(-109.3984375,109.3984375)" class="label-container" points="109.3984375,0 218.796875,-109.3984375 109.3984375,-218.796875 0,-109.3984375"/><g transform="translate(-70.3984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="140.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âœ… Token valid &amp;<br />has required scope?</p></span></div></foreignObject></g></g><g transform="translate(460.921875, 1950.140625)" id="flowchart-Q-33" class="node default"><rect height="78" width="162.25" y="-39" x="-81.125" style="fill:#ffcdd2 !important" class="basic label-container"/><g transform="translate(-51.125, -24)" style="" class="label"><rect/><foreignObject height="48" width="102.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âŒ Return 401<br />Unauthorized</p></span></div></foreignObject></g></g><g transform="translate(402.859375, 2090.140625)" id="flowchart-R-35" class="node default"><rect height="78" width="221.96875" y="-39" x="-110.984375" style="" class="basic label-container"/><g transform="translate(-80.984375, -24)" style="" class="label"><rect/><foreignObject height="48" width="161.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”„ Auth Agent handles<br />token refresh</p></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 1950.140625)" id="flowchart-S-39" class="node default"><rect height="78" width="162.25" y="-39" x="-81.125" style="fill:#ffcdd2 !important" class="basic label-container"/><g transform="translate(-51.125, -24)" style="" class="label"><rect/><foreignObject height="48" width="102.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âŒ Return 403<br />Forbidden</p></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 2090.140625)" id="flowchart-T-41" class="node default"><rect height="78" width="218.765625" y="-39" x="-109.3828125" style="" class="basic label-container"/><g transform="translate(-79.3828125, -24)" style="" class="label"><rect/><foreignObject height="48" width="158.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âš ï¸ Auth Agent raises<br />InsufficientScopeError</p></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 2218.140625)" id="flowchart-U-43" class="node default"><rect height="78" width="207.359375" y="-39" x="-103.6796875" style="" class="basic label-container"/><g transform="translate(-73.6796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="147.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ“‹ Chat App detects<br />authorization error</p></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 2346.140625)" id="flowchart-V-45" class="node default"><rect height="78" width="244.21875" y="-39" x="-122.109375" style="" class="basic label-container"/><g transform="translate(-92.109375, -24)" style="" class="label"><rect/><foreignObject height="48" width="184.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”„ Auto-request scope<br />upgrade from Auth Server</p></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 2474.140625)" id="flowchart-W-47" class="node default"><rect height="78" width="240.65625" y="-39" x="-120.328125" style="" class="basic label-container"/><g transform="translate(-90.328125, -24)" style="" class="label"><rect/><foreignObject height="48" width="180.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ›ï¸ Auth Server evaluates<br />approval policy</p></span></div></foreignObject></g></g><g transform="translate(1049.2578125, 2688.90625)" id="flowchart-X-49" class="node default"><polygon transform="translate(-125.765625,125.765625)" class="label-container" points="125.765625,0 251.53125,-125.765625 125.765625,-251.53125 0,-125.765625"/><g transform="translate(-86.765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="173.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ¤” Auto-approve or<br />require admin approval?</p></span></div></foreignObject></g></g><g transform="translate(1187.27734375, 3601.734375)" id="flowchart-Y-51" class="node default"><rect height="78" width="216.484375" y="-39" x="-108.2421875" style="" class="basic label-container"/><g transform="translate(-78.2421875, -24)" style="" class="label"><rect/><foreignObject height="48" width="156.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âœ… Auth Server issues<br />new token with scope</p></span></div></foreignObject></g></g><g transform="translate(824.078125, 3729.734375)" id="flowchart-Z-53" class="node default"><rect height="78" width="201.1875" y="-39" x="-100.59375" style="" class="basic label-container"/><g transform="translate(-70.59375, -24)" style="" class="label"><rect/><foreignObject height="48" width="141.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”„ Chat App retries<br />with new token</p></span></div></foreignObject></g></g><g transform="translate(936.2734375, 2927.671875)" id="flowchart-AA-57" class="node default"><rect height="78" width="201.6875" y="-39" x="-100.84375" style="" class="basic label-container"/><g transform="translate(-70.84375, -24)" style="" class="label"><rect/><foreignObject height="48" width="141.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>â³ Create approval<br />request in database</p></span></div></foreignObject></g></g><g transform="translate(936.2734375, 3055.671875)" id="flowchart-BB-59" class="node default"><rect height="78" width="193.421875" y="-39" x="-96.7109375" style="" class="basic label-container"/><g transform="translate(-66.7109375, -24)" style="" class="label"><rect/><foreignObject height="48" width="133.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ“§ Notify admin<br />(email/dashboard)</p></span></div></foreignObject></g></g><g transform="translate(936.2734375, 3207.671875)" id="flowchart-CC-61" class="node default"><rect height="78" width="191.140625" y="-39" x="-95.5703125" style="" class="basic label-container"/><g transform="translate(-65.5703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="131.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>â³ Wait for admin<br />approval/denial</p></span></div></foreignObject></g></g><g transform="translate(936.2734375, 3392.703125)" id="flowchart-DD-63" class="node default"><polygon transform="translate(-96.03125,96.03125)" class="label-container" points="96.03125,0 192.0625,-96.03125 96.03125,-192.0625 0,-96.03125"/><g transform="translate(-69.03125, -12)" style="" class="label"><rect/><foreignObject height="24" width="138.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ‘¨â€ğŸ’¼ Admin decision?</p></span></div></foreignObject></g></g><g transform="translate(897.015625, 3601.734375)" id="flowchart-EE-67" class="node default"><rect height="78" width="235.59375" y="-39" x="-117.796875" style="fill:#ffcdd2 !important" class="basic label-container"/><g transform="translate(-87.796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="175.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>âŒ Show denial message<br />to user</p></span></div></foreignObject></g></g><g transform="translate(756.9765625, 1950.140625)" id="flowchart-FF-69" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ”§ MCP Server executes<br />tool (list_files, execute_command, etc.)</p></span></div></foreignObject></g></g><g transform="translate(756.9765625, 2090.140625)" id="flowchart-GG-71" class="node default"><rect height="78" width="211.359375" y="-39" x="-105.6796875" style="" class="basic label-container"/><g transform="translate(-75.6796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="151.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ“Š Return tool result<br />to Auth Agent</p></span></div></foreignObject></g></g><g transform="translate(756.9765625, 2218.140625)" id="flowchart-HH-73" class="node default"><rect height="78" width="256.953125" y="-39" x="-128.4765625" style="" class="basic label-container"/><g transform="translate(-98.4765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="196.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ§  Auth Agent incorporates<br />result into response</p></span></div></foreignObject></g></g><g transform="translate(756.9765625, 2346.140625)" id="flowchart-II-75" class="node default"><rect height="78" width="240.34375" y="-39" x="-120.171875" style="" class="basic label-container"/><g transform="translate(-90.171875, -24)" style="" class="label"><rect/><foreignObject height="48" width="180.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ’¬ Stream final response<br />to Chat App</p></span></div></foreignObject></g></g><g transform="translate(756.9765625, 2474.140625)" id="flowchart-JJ-77" class="node default"><rect height="78" width="203.296875" y="-39" x="-101.6484375" style="fill:#c8e6c9 !important" class="basic label-container"/><g transform="translate(-71.6484375, -24)" style="" class="label"><rect/><foreignObject height="48" width="143.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ğŸ“± Display response<br />to user</p></span></div></foreignObject></g></g></g></g></g></svg>